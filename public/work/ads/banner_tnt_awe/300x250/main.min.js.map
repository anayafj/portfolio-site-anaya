{"version":3,"sources":["ss_core.js","bltFramework.js","main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1jBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"scripts/main.min.js","sourcesContent":["/** SITE-SERVED CORE FUNCTIONS\n ********************************************************************************************/\n\nvar isExpanded = false;\n\n/** PRE INIT **********************************************/\nfunction initVendor () {\n    vendorReady();\n}\n\n/** INIT *************************************************/\nfunction vendorReady () {\n    console.info ('SITE-SERVED API INITIALIZING');\n\n    addListeners ();\n    adVisible ();\n}\n\n/** AD VISIBLE *****************************************/\nfunction adVisible () {\n    // Ad visible ... dispatch event to app\n    dispatchEvent (BLT.Events.AD_READY);\n}\n\n/** LISTENERS *****************************************/\nfunction addListeners () {\n    // AD events\n    addEventListener ('collapseStart', onCollapseStart);\n    addEventListener ('collapseFinish', onCollapseFinish);\n    addEventListener ('expandStart', onExpandStart);\n    addEventListener ('expandFinish', onExpandFinish);\n    addEventListener ('closeAd', onCloseAd);\n}\n\n\n/***********************************************************************************************\n * COLLAPSE METHODS\n **********************************************************************************************/\nfunction onCollapseStart (event) {\n    // console.info ('SS_CORE: onCollapseStart');\n    dispatchEvent (BLT.Events.COLLAPSE_START);\n}\n\nfunction onCollapseFinish (event) {\n    isExpanded = false;\n}\n\n\n/***********************************************************************************************\n * EXPAND METHODS\n **********************************************************************************************/\nfunction onExpandStart (event) {\n    // console.info ('SS_CORE: onExpandStart');\n    dispatchEvent (BLT.Events.EXPAND_START);\n}\n\nfunction onExpandFinish (event) {\n    isExpanded = true;\n}\n\n\n/***********************************************************************************************\n * CLOSE METHOD\n **********************************************************************************************/\nfunction onCloseAd (event) {\n    // console.info ('SS_CORE: onCloseAd');\n    isExpanded = false;\n    onCollapseStart (null);\n}\n\n","var BLT = BLT || {};\n\nBLT.initFramework = function () {\n    console.info ('BLT AD FRAMEWORK : version 1.4');\n};\n\n// startup\nwindow.onload = BLT.initFramework();\n\n\n/** FRAMEWORK DEPENDENCIES\n **********************************************************/\n\n/** BLT EVENTS\n **********************************************************/\n\n// polyfill fix for IE (adds custom events to IE)\n(function () {\n    function CustomEvent ( event, params ) {\n        params = params || { bubbles: false, cancelable: false, detail: undefined };\n        var evt = document.createEvent ( 'CustomEvent' );\n        evt.initCustomEvent ( event, params.bubbles, params.cancelable, params.detail );\n        return evt;\n    }\n\n    CustomEvent.prototype = window.Event.prototype;\n    window.CustomEvent = CustomEvent;\n})();\n\n\nBLT.Events = {\n\n    /** AD EVENTS\n     *************************************************************/\n    AD_READY:                   new CustomEvent ('adReady'),\n\n    CLOSE_AD:                   new CustomEvent ('closeAd'),\n    COLLAPSE_AD:                new CustomEvent ('collapseAd'),\n    COLLAPSE_START:             new CustomEvent ('collapseStart'),\n    COLLAPSE_FINISH:            new CustomEvent ('collapseFinish'),\n\n    EXPAND_AD:                  new CustomEvent ('expandAd'),\n    EXPAND_START:               new CustomEvent ('expandStart'),\n    EXPAND_FINISH:              new CustomEvent ('expandFinish'),\n\n    REPLAY_AD:                  new CustomEvent ('replayAd'),\n    PARSE_DATES:                new CustomEvent ('parseDates'),\n\n\n    /** VIDEO EVENTS\n     *************************************************************/\n    // status events\n    VIDEO_LOADED:               new CustomEvent ('videoLoaded'),\n    VIDEO_LOAD_PROGRESS:        new CustomEvent ('videoLoadProgress'),\n    VIDEO_READY:                new CustomEvent ('videoReady'),\n    VIDEO_COMPLETE:             new CustomEvent ('videoComplete'),\n    VIDEO_STARTED:              new CustomEvent ('videoStarted'),\n    VIDEO_PLAYING:              new CustomEvent ('videoPlaying'),\n    VIDEO_PAUSED:               new CustomEvent ('videoPaused'),\n    VIDEO_RESUMED:              new CustomEvent ('videoResumed'),\n    VIDEO_REPLAYING:            new CustomEvent ('videoReplaying'),\n    VIDEO_MUTED:                new CustomEvent ('videoMuted'),\n    VIDEO_UNMUTED:              new CustomEvent ('videoUnmuted'),\n    VIDEO_ERROR:                new CustomEvent ('videoError'),\n    VIDEO_ON_CUEPOINT:          new CustomEvent ('videoCuepoint'),\n\n    // buffer events\n    VIDEO_BUFFER_EMPTY:         new CustomEvent ('videoBufferEmpty'),\n    VIDEO_BUFFER_FULL:          new CustomEvent ('videoBufferFull'),\n    VIDEO_SHOW_BUFFER:          new CustomEvent ('videoShowBuffer'),\n    VIDEO_HIDE_BUFFER:          new CustomEvent ('videoHideBuffer'),\n\n    // progress events\n    VIDEO_PROGRESS:             new CustomEvent ('videoProgress'),\n    VIDEO_0_PERCENT:            new CustomEvent ('video 0% complete'),\n    VIDEO_25_PERCENT:           new CustomEvent ('video 25% complete'),\n    VIDEO_50_PERCENT:           new CustomEvent ('video 50% complete'),\n    VIDEO_75_PERCENT:           new CustomEvent ('video 75% complete'),\n    VIDEO_100_PERCENT:          new CustomEvent ('video 100% complete'),\n\n    // controls\n    MUTE_VIDEO:                 new CustomEvent ('muteVideo'),\n    UNMUTE_VIDEO:               new CustomEvent ('unmuteVideo'),\n    PLAY_VIDEO:                 new CustomEvent ('playVideo'),\n    PAUSE_VIDEO:                new CustomEvent ('pauseVideo'),\n    REPLAY_VIDEO:               new CustomEvent ('replayVideo'),\n    SEEK_VIDEO:                 new CustomEvent ('seekVideo'),\n    KILL_VIDEO:                 new CustomEvent ('killVideo'),\n    HIDE_CONTROLS:              new CustomEvent ('hideControls'),\n    SHOW_CONTROLS:              new CustomEvent ('showControls'),\n\n    // fullscreen events\n    VIDEO_FULLSCREEN_OPENED:    new CustomEvent ('fullScreenOpened'),\n    VIDEO_FULLSCREEN_CLOSED:    new CustomEvent ('fullScreenClosed'),\n    SHOW_FULLSCREEN:            new CustomEvent ('showFullscreen'),\n    EXIT_FULLSCREEN:            new CustomEvent ('exitFullscreen')\n};\n\n\n/** BLT TUNEIN CLASS\n **********************************************************/\n\nBLT.Tunein = BLT.Tunein || {};\n\nBLT.Tunein.dates = [];\nBLT.Tunein.today = new Date();\nBLT.Tunein.currentTunein = new Date();\nBLT.Tunein.currentID = undefined;\nBLT.Tunein.isProxy = false;\n\n\nBLT.Tunein.addDate = function (year, month, day, id ) {\n    if (!BLT.Tunein.dates) BLT.Tunein.dates = [];\n    var date = new Date (year, month -1, day);\n    date.id = id;\n    BLT.Tunein.dates.push (date);\n};\n\n\nBLT.Tunein.parseDates = function (year, month, day ) {\n    if (BLT.Tunein.errorCheck()) return;\n\n    BLT.Tunein.isProxy = false;\n\n    // if date value for comparison if passed (for testing)\n    if (year && month && day) {\n        // will use proxy date for testing\n        BLT.Tunein.today = new Date (year, month -1, day);\n        BLT.Tunein.isProxy = true;\n    }\n\n    BLT.Tunein.sortDec (BLT.Tunein.dates);\n    BLT.Tunein.currentTunein = BLT.Tunein.today;\n    BLT.Tunein.currentID = 'default';\n\n    // determine correct Tunein\n    for (var i in BLT.Tunein.dates) {\n        if (BLT.Tunein.today >= BLT.Tunein.dates[i]) {\n            BLT.Tunein.currentID = BLT.Tunein.dates[i].id;\n            BLT.Tunein.currentTunein = BLT.Tunein.dates[i];\n            break;\n        }\n    }\n\n    dispatchEvent (BLT.Events.PARSE_DATES);\n\n    // display the results\n    BLT.Tunein.displayCurrentDate();\n};\n\n\n// sort date array ascending\nBLT.Tunein.sortAsc = function (dateArray) {\n    dateArray.sort (function (a, b) {\n        a = new Date ( a.getTime() );\n        b = new Date ( b.getTime() );\n        return a < b ? -1 : a > b ? 1 : 0;\n    });\n};\n\n\n// sort date array descending\nBLT.Tunein.sortDec = function (dateArray) {\n    dateArray.sort (function (a, b) {\n        a = new Date ( a.getTime() );\n        b = new Date ( b.getTime() );\n        return a > b ? -1 : a < b ? 1 : 0;\n    });\n};\n\n\n/** CONSOLE LOG FOR TESTING **/\n// displays all dates in the console window (for testing)\nBLT.Tunein.displayDates = function () {\n    if (BLT.Tunein.errorCheck()) return;\n\n    var revDates = BLT.Tunein.dates.slice(0); // clone\n    BLT.Tunein.sortAsc (revDates);\n\n    for (var x in revDates) {\n        console.info ( revDates[x].id, '--> ', revDates[x].toLocaleDateString() );\n    }\n\n    // display the results\n    BLT.Tunein.displayCurrentDate();\n};\n\n\n// displays current dates in console window (for testing)\nBLT.Tunein.displayCurrentDate = function () {\n    var outputString;\n    BLT.Tunein.isProxy ? outputString = 'CURRENT TUNEIN (USING PROXY):' : outputString = 'CURRENT TUNEIN:';\n\n    console.info (outputString, BLT.Tunein.currentID, '-->', BLT.Tunein.currentTunein.toLocaleDateString() );\n};\n\n\n// ERROR CHECKING\nBLT.Tunein.errorCheck = function () {\n    if (BLT.Tunein.dates.length === 0) {\n        console.info ('<<< Tunein cannot be parsed. Use BLT.Tunein.addDate to add date values');\n        return 1;\n    }\n    else return 0; // no error\n};\n\n\n\n/** BLT HELPER METHODS\n **********************************************************/\n\n/** LOAD EXTERNAL JAVASCRIPT **/\nvar loadScript = function (scriptURL, callback)  {\n    var script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n\n    if (script.readyState){  // IE, incl. IE9\n        script.onreadystatechange = function(){\n            if (script.readyState === \"loaded\" || script.readyState === \"complete\"){\n                script.onreadystatechange = null;\n                callback();\n            }\n        };\n    } else {  // others\n        script.onload = callback;\n    }\n\n    script.src = scriptURL;\n    document.body.appendChild (script);\n};\n\n\n/** ADD CLASS **/\nvar addClass = function ($el, className) {\n    var attr = $el.getAttribute ('class') || '';  // default to empty string\n    var classList = attr.split (' ');\n\n    for (var i = 0; i < classList.length; i++) {\n        if (classList[i] === className) return;\n    }\n\n    classList.push (className);\n    $el.setAttribute ('class', classList.join(' '));\n};\n\n\n/** REMOVE CLASS **/\nvar removeClass = function (element, className) {\n    var Element = (typeof element === 'string') ? _getElement(element) : element;\n    var classNames = Element.className;\n\n    // Clean up Class Names\n    classNames = classNames.replace(className, '');\n    classNames = classNames.replace(/\\s{2,}/g, ' ').replace(/^ +/gm, '').replace(/\\s+$/, '');\n\n    // Update Class Names\n    Element.className = classNames;\n};\n\n\n/** GET ELEMENT **/\nvar getEl = function ($id) {\n    return document.getElementById ($id);\n};\n\n// Get Element by class\n// var getElClass = function ($id) {\n//     return document.getElementsByClassName($id);\n// };\n\n/** SHOW ELEMENT **/\nvar show = function ($element) {\n    $element.style.display = 'block';\n};\n\n\n/** HIDE ELEMENT **/\nvar hide = function ($element) {\n    $element.style.display = 'none';\n};\n\n\n/** DEVICE DETECTION **/\nvar getDevice = (function () {\n    var ua     = navigator.userAgent.toLowerCase();\n    var detect = (function (s) {\n        if (typeof (s) === 'undefined') {\n            s = ua;\n        } else {\n            ua = s.toLowerCase();\n        }\n        if (/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(ua)) {\n            return 'tablet';\n        } else if (/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard)/.test(ua)) {\n            return 'phone';\n        } else {\n            return 'desktop';\n        }\n    });\n    var device = detect();\n    return {\n        detect     : detect,\n        device     : device,\n        isMobile   : (device !== 'desktop'),\n        isTablet   : (device === 'tablet'),\n        isDestktop : (device === 'desktop'),\n        userAgent  : ua\n    };\n}());\n\n\n/** BLT VIDEO CONTROLS CLASS\n **********************************************************/\n\nvar BLT = BLT || {};\nBLT.VideoControls = {};\n\nvar videoPlayer,\n    videoControls,\n    playButton,\n    pauseButton,\n    soundOffButton,\n    soundOnButton,\n    videoScrubber,\n    scrubHandle,\n    videoTrack,\n    videoProgress,\n    trackRect,\n    trackLeft,\n    trackRight,\n    trackWidth,\n    trackOffsetLeft,\n    scrubberLeft,\n    videoDuration;\n\n\nBLT.VideoControls.initControls = function (player) {\n    videoPlayer = player;\n    BLT.VideoControls.initVars();\n    BLT.VideoControls.addListeners();\n};\n\n\nBLT.VideoControls.initVars = function () {\n    // elements\n    videoControls = document.getElementById     ('vidControls');\n    playButton = document.getElementById        ('playButton');\n    pauseButton = document.getElementById       ('pauseButton');\n    soundOffButton = document.getElementById    ('soundOffButton');\n    soundOnButton = document.getElementById     ('soundOnButton');\n    videoScrubber = document.getElementById     ('videoScrubber');\n    scrubHandle = document.getElementById       ('scrubHandle');\n    videoTrack = document.getElementById        ('scrubTrack');\n    videoProgress = document.getElementById     ('scrubProgress');\n};\n\n\nBLT.VideoControls.addListeners = function () {\n    playButton.addEventListener ('click', BLT.VideoControls.handleControls);\n    pauseButton.addEventListener ('click', BLT.VideoControls.handleControls);\n    soundOffButton.addEventListener ('click', BLT.VideoControls.handleControls);\n    soundOnButton.addEventListener ('click', BLT.VideoControls.handleControls);\n\n    addEventListener ('hideControls', BLT.VideoControls.handleVideoEvents);\n    addEventListener ('showControls', BLT.VideoControls.handleVideoEvents);\n    addEventListener ('videoPlaying', BLT.VideoControls.handleVideoEvents);\n    addEventListener ('videoPaused', BLT.VideoControls.handleVideoEvents);\n    addEventListener ('videoMuted', BLT.VideoControls.handleVideoEvents);\n    addEventListener ('videoUnmuted', BLT.VideoControls.handleVideoEvents);\n    addEventListener ('killVideo', BLT.VideoControls.killControls);\n\n    addEventListener ('videoComplete', BLT.VideoControls.handleVideoComplete);\n    videoPlayer.addEventListener ('canplay', BLT.VideoControls.videoReady);\n\n    if (videoScrubber != null) {\n        videoTrack.addEventListener ('click', BLT.VideoControls.handleControls);\n        videoPlayer.addEventListener ('timeupdate', BLT.VideoControls.handleProgressEvent);\n\n        // scrubber\n        scrubHandle.onmousedown = function(e) {\n            videoDuration = videoPlayer.duration;\n            videoPlayer.removeEventListener ('timeupdate', BLT.VideoControls.handleProgressEvent);\n\n            document.onmousemove = function(e) {\n                if (e.clientX >= (trackLeft + scrubHandle.offsetWidth /2) && e.clientX <= trackRight) {\n                    BLT.VideoControls.setScrubberPosition (e);\n                }\n            };\n\n            document.onmouseup = function() {\n                document.onmousemove = document.onmouseup = null;\n                videoPlayer.addEventListener ('timeupdate', BLT.VideoControls.handleProgressEvent);\n            };\n        }\n    }\n};\n\nBLT.VideoControls.removeListeners = function () {\n    console.log ('REMOVE CONTROL LISTENERS');\n\n    playButton.removeEventListener ('click', BLT.VideoControls.handleControls);\n    pauseButton.removeEventListener ('click', BLT.VideoControls.handleControls);\n    soundOffButton.removeEventListener ('click', BLT.VideoControls.handleControls);\n    soundOnButton.removeEventListener ('click', BLT.VideoControls.handleControls);\n\n    removeEventListener ('hideControls', BLT.VideoControls.handleVideoEvents);\n    removeEventListener ('showControls', BLT.VideoControls.handleVideoEvents);\n    removeEventListener ('videoPlaying', BLT.VideoControls.handleVideoEvents);\n    removeEventListener ('videoPaused', BLT.VideoControls.handleVideoEvents);\n    removeEventListener ('videoMuted', BLT.VideoControls.handleVideoEvents);\n    removeEventListener ('videoUnmuted', BLT.VideoControls.handleVideoEvents);\n    removeEventListener ('killVideo', BLT.VideoControls.killControls);\n\n    removeEventListener ('videoComplete', BLT.VideoControls.handleVideoComplete);\n\n    videoTrack.removeEventListener ('click', BLT.VideoControls.handleControls);\n    videoPlayer.removeEventListener ('timeupdate', BLT.VideoControls.handleProgressEvent);\n    videoPlayer.removeEventListener ('canplay', BLT.VideoControls.videoReady);\n};\n\n\nBLT.VideoControls.videoReady = function (event) {\n    // display controls\n    show (videoControls);\n\n    videoPlayer.removeEventListener ('canplay', BLT.VideoControls.videoReady);\n\n    // store video's duration\n    videoDuration = videoPlayer.duration;\n\n    // if scrubber exists, set properties\n    if (videoScrubber != null) {\n        trackRect = videoTrack.getBoundingClientRect();\n        trackWidth = trackRect.width;\n        trackLeft = trackRect.left;\n        trackRight = trackRect.right;\n        trackOffsetLeft = videoTrack.offsetLeft;\n\n        if (typeof scrubberLeft === 'undefined') scrubberLeft = scrubHandle.offsetLeft;\n    }\n};\n\nBLT.VideoControls.handleControls = function (event) {\n    var obj = event.currentTarget.id;\n\n    switch (obj) {\n        case 'playButton':\n            dispatchEvent (BLT.Events.PLAY_VIDEO);\n            if (videoScrubber != null && videoPlayer.currentTime == 0) videoProgress.style.width = 0;\n            BLT.VideoControls.togglePlayButton (false);\n            break;\n\n        case 'pauseButton':\n            dispatchEvent (BLT.Events.PAUSE_VIDEO);\n            BLT.VideoControls.togglePlayButton (true);\n            break;\n\n        case 'soundOffButton':\n            dispatchEvent (BLT.Events.UNMUTE_VIDEO);\n            BLT.VideoControls.toggleMuteButton (false);\n            break;\n\n        case 'soundOnButton':\n            dispatchEvent (BLT.Events.MUTE_VIDEO);\n            BLT.VideoControls.toggleMuteButton (true);\n            break;\n\n        case 'scrubTrack':\n            BLT.VideoControls.setScrubberPosition (event);\n            break;\n    }\n};\n\nBLT.VideoControls.handleVideoEvents = function (event) {\n    switch (event.type) {\n        case 'videoPlaying':\n            BLT.VideoControls.togglePlayButton (false);\n            break;\n\n        case 'videoPaused':\n            BLT.VideoControls.togglePlayButton (true);\n            break;\n\n        case 'hideControls':\n            BLT.VideoControls.showHideControls ('hidden');\n            break;\n\n        case 'showControls':\n            BLT.VideoControls.showHideControls ('visible');\n            break;\n\n        case 'videoMuted':\n            BLT.VideoControls.toggleMuteButton (true);\n            break;\n\n        case 'videoUnmuted':\n            BLT.VideoControls.toggleMuteButton (false);\n            break;\n    }\n};\n\nBLT.VideoControls.showHideControls = function (state) {\n    videoControls.style.visibility = state;\n};\n\n\nBLT.VideoControls.setScrubberPosition = function (event) {\n    if (!videoDuration) videoDuration = videoPlayer.duration;\n\n    var currPos = event.clientX;\n    var newPos = currPos - trackLeft;\n    var posRatio = newPos / trackWidth;\n    var newTime = videoDuration * posRatio;\n\n    videoPlayer.currentTime = newTime;\n    scrubHandle.style.left = (newPos - (scrubHandle.offsetWidth /2)) + \"px\";\n    videoProgress.style.width = (currPos - trackLeft) + \"px\";\n};\n\n\nBLT.VideoControls.handleProgressEvent = function () {\n    if (!videoDuration) videoDuration = videoPlayer.duration;\n\n    // moves scrubber in relation to currentTime\n    var currTime = videoPlayer.currentTime;\n    var posRatio = currTime/videoDuration;\n    var posOffset = trackWidth * posRatio;\n    var scrubberPos = scrubberLeft + posOffset;\n\n    var newPos = scrubberPos - (scrubHandle.offsetWidth /2);\n    if (newPos < 0) newPos = scrubberPos;\n\n    scrubHandle.style.left = newPos + \"px\";\n    videoProgress.style.width = (scrubberPos - trackOffsetLeft) + \"px\";\n};\n\n\nBLT.VideoControls.togglePlayButton = function (playState) {\n    if (playState === true) {\n        show (playButton);\n        hide (pauseButton);\n    }\n    else {\n        hide (playButton);\n        show (pauseButton);\n    }\n};\n\n\nBLT.VideoControls.toggleMuteButton = function (muteState) {\n    if (muteState === true) {\n        show (soundOffButton);\n        hide (soundOnButton);\n    }\n    else {\n        hide (soundOffButton);\n        show (soundOnButton);\n    }\n};\n\n\nBLT.VideoControls.handleVideoComplete = function (event) {\n    BLT.VideoControls.togglePlayButton (true);\n};\n\n\nBLT.VideoControls.killControls = function () {\n    BLT.VideoControls.removeListeners();\n    hide (videoControls);\n};\n","var AD = AD || {};\n\nvar adContainer = getEl ('adContainer');\nvar $bgExits    = getEl ('exit');\nvar $tunein     = getEl ('lockup');\n\n\n/** INITIALIZE AD\n *******************************************************************/\nAD.initAd = function () {\n    AD.addListeners();\n    AD.setupAnimation();\n    AD.checkDate();\n    // INITIALIZE THE AD VENDOR API\n    initVendor();\n};\n\n\n/** SETUP LISTENERS\n *******************************************************************/\nAD.addListeners = function () {\n    // ad events\n    addEventListener ('adReady', AD.adReady);\n    // Exit Events\n    $bgExits.addEventListener ('click', AD.exitHandler);\n    // for (var bgExitIndex = 0; bgExitIndex < $bgExits.length; bgExitIndex++) {\n    //     $bgExits[bgExitIndex].addEventListener('click', AD.exitHandler);\n    // }\n};\n\n// Exit handler for all click-outs\nAD.exitHandler = function(event){\n    var target = (event.currentTarget) ? event.currentTarget : event.srcElement;\n\n    switch(target){\n        case $bgExits:\n        default:\n            console.log(\"Exit\");\n            window.open(clickTag, '_blank');\n            break;\n    }\n};\n\n/** AD READY -- CALLED ONCE VENDOR API IS READY (EVENT DISPATCHED)\n *******************************************************************/\nAD.adReady = function() {\n    console.info ('AD READY');\n    tlExpand.restart();\n};\n\n/** ANIMATION SETUP\n *******************************************************************/\nvar tlExpand = new TimelineLite({paused:true});\nAD.setupAnimation = function() {\n    tlExpand.addLabel(\"start\", 0);\n    tlExpand.addLabel(\"lockup\", 1);\n    tlExpand.addLabel(\"end\", 8);\n\n    tlExpand.from('.powder', 3, {scale:0.5, ease: Expo.easeOut}, 'start');\n    tlExpand.from('.wrestlers', 3, {scale:0.85, ease: Expo.easeOut}, 'start');\n\n    tlExpand.from('.logo', 3, {scale:0.7, opacity:0, rotationx:0.01, ease: Expo.easeOut}, 'start');\n    tlExpand.from('.lockup', 1, {opacity:0, ease: Power0.easeNone}, 'lockup');\n};\n\n//////////////////////////////////////////////////////////////////////////////\n///// Date Code ---------------\nAD.checkDate = function () {\n    console.log('date check');\n\n    BLT.Tunein.addDate (2019, 10, 02, 'tonight');\n    BLT.Tunein.addDate (2019, 10, 03, 'wednesdays');\n    BLT.Tunein.addDate (2019, 10, 09, 'tonight');\n    BLT.Tunein.addDate (2019, 10, 10, 'wednesdays');\n    BLT.Tunein.addDate (2019, 10, 16, 'tonight');\n\n    BLT.Tunein.parseDates ();\n    // BLT.Tunein.parseDates (2019, 10, 16); // USE TO TEST DATES\n\n    switch (BLT.Tunein.currentID) {\n\n        case 'wednesdays':\n            console.info('DATE - wednesdays');\n            addClass($tunein, 'date3');\n            break;\n\n        case 'tonight':\n            console.info('DATE - tonight');\n            addClass($tunein, 'date2');\n            break;\n\n        default:\n            console.info('DATE - Default');\n            break;\n    }\n}\n\n/** STARTUP\n *******************************************************************/\nwindow.load = AD.initAd();"]}